/*! symfony-form-validator-parser - v0.0.1 - 2014-08-01
* https://github.com/bichotll/symfony-form-validator-parser
* Copyright (c) 2014 bichotll; Licensed Apache2 */
!function(a){"use strict";function b(b,e){var f=[],g=[];a.each(b.object,function(a,h){return 0!==a||c(h,b,f,g)?void(c(h,b,f,g)&&e.append(d(h,b))):(e.addClass("sfvp-form"),!0)})}function c(b,c,d,e){if(a.inArray(b.fullPathName,d)>-1)return!1;if(d.push(b.fullPathName),"]"===b.fullPathName[b.fullPathName.length-1]){var f=a.grep(c.formContainerNames,function(a){return b.type.indexOf(a)>-1});if(f.length)return!1;if(a.inArray(b.type,c.subChoiseAvoidedTypes)>1)e.push(b.fullPathName);else{var g=a.grep(e,function(a){return b.fullPathName.indexOf(a)>-1});if(g.length>0)return!1}return!0}return!1}function d(b,c){var d;"undefined"!=typeof b.options.choices?(d=a("<select></select>"),a.each(b.options.choices,function(b,c){d.append(a('<option value="'+c.id+'" >'+c.value+"</option>"))})):"textarea"===b.type?d=a("<textarea></textarea>"):"entity"===b.type?(d=a("<select></select>"),a.each(b.dataEntityChoice,function(b,c){d.append(a('<option value="'+c.id+'" >'+c.value+"</option>"))})):d=a("<input></input>"),("undefined"!=typeof b.options.choices||"entity"===b.type)&&("[object Array]"===Object.prototype.toString.call(b.value)?a.each(b.value,function(a,b){d.children("option[value='"+b.id+"']").prop("selected",!0)}):d.children("option[value='"+b.value.id+"']").prop("selected",!0)),b.options.multiple===!0&&d.attr("multiple","multiple"),"repeated"===b.type&&(d.data("repeated",!0),d.attr("type","hidden")),"checkbox"===b.type&&d.attr("type","checkbox"),"radio"===b.type&&d.attr("type","radio"),"file"===b.type&&d.attr("type","file"),"hidden"===b.type&&d.attr("type","hidden"),"button"===b.type&&(d.attr("type","button"),d.attr("value",b.pathName[0])),"reset"===b.type&&(d.attr("type","reset"),d.attr("value",b.pathName[0])),"submit"===b.type&&(d.attr("type","submit"),d.attr("value",b.pathName[0])),b.options.required===!0&&d.attr("required",!0),null!==b.value&&(a.inArray(b.type,c.subChoiseAvoidedTypes)>1?"datetime"===b.type&&d.val(b.value.date):d.val(b.value)),d.attr("name",b.fullPathName),d.attr("id",b.fullPathName),d.data("constraints",b.constraints),d.data("options",b.options),d.addClass("form-control");var e=a("<label>"+b.pathName[0]+"</label>");e.attr("for",b.fullPathName);var f=a('<div class="form-group"></div>');return f.append(e),f.append(d),"hidden"===d.attr("type")&&f.addClass("hide"),f}a.sfvp=function(c){if(c=a.extend({},a.sfvp.options,c),""===c.object)throw"No object inserted";var d=a('<form role="form" ></form>');return b(c,d),d},a.sfvp.options={object:"",formContainerNames:["_form","form_"],subChoiseAvoidedTypes:["time","date","datetime","birthday"]}}(jQuery);